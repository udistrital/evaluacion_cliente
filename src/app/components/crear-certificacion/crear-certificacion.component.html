<div class="container">
    <div class="card">
        <div class="card-body">
            <h1>Certificación</h1>
            <br>
            <button (click)="regresarFiltro()" nbButton status="warning" class="btn-flotante">
                <i class="fas fa-arrow-alt-circle-left"></i>
                Regresar
            </button>

        </div>

    </div>

</div>
<br>
<div class="font-black" id="pdf">
    <div class="card card-margin">
        <div class="card-body">
            <div class="row">
                <div class="col-9">
                    <H1>Información General De Certificaciones Contractuales</H1>
                </div>
                <div class="col-3">
                </div>
            </div>
            <!-- Div para los datos del contrato   -->
            <div class="row">
                <div class="col-4" *ngIf="this.rol=='ORDENADOR_DEL_GASTO'||this.rol=='ASISTENTE_JURIDICA'">
                    <p>Novedades.</p>
                    <div class="col text-center">
                        <div>
                            <mat-form-field appearance="fill">
                                <mat-label>Novedades</mat-label>
                                <mat-select multiple required [(ngModel)]="novedad">
                                    <mat-option *ngFor="let novedades of datosNovedades ; let i = index" [value]="novedades">{{novedades}}</mat-option>
                                </mat-select>
                            </mat-form-field>

                        </div>

                    </div>

                </div>


                <div class="col-4">
                    <p>Valor del contrato</p>
                    <div class="col text-center">
                        <div>
                            <mat-form-field appearance="fill">
                                <mat-label>Valor Contrato</mat-label>
                                <mat-select [(ngModel)]="valor_contrato">
                                    <mat-option value="1">SI</mat-option>
                                    <mat-option value="0">NO</mat-option>

                                </mat-select>
                            </mat-form-field>

                        </div>

                    </div>

                </div>

                <div class="col-4">
                    <p>Duración del contrato(meses)</p>
                    <div class="col text-center">
                        <div class="col text-center">
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Duración del contrato(meses)</mat-label>
                                    <mat-select [(ngModel)]="duracion_contrato">
                                        <mat-option value="1">SI</mat-option>
                                        <mat-option value="0">NO</mat-option>

                                    </mat-select>
                                </mat-form-field>

                            </div>

                        </div>
                    </div>

                </div>
                <div class="col-4">
                    <p>Fecha de inicio</p>
                    <div class="col text-center">
                        <div class="col text-center">
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Fecha de inicio</mat-label>
                                    <mat-select [(ngModel)]="fecha_Inicio">
                                        <mat-option value="1">SI</mat-option>
                                        <mat-option value="0">NO</mat-option>

                                    </mat-select>
                                </mat-form-field>

                            </div>

                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <p>Fecha de Finalización</p>
                    <div class="col text-center">
                        <div class="col text-center">
                            <div>
                                <mat-form-field appearance="fill">
                                    <mat-label>Fecha de finalización</mat-label>
                                    <mat-select [(ngModel)]="fecha_final">
                                        <mat-option value="1">SI</mat-option>
                                        <mat-option value="0">NO</mat-option>

                                    </mat-select>
                                </mat-form-field>

                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-4" *ngIf="this.rol=='ORDENADOR_DEL_GASTO'||this.rol=='ASISTENTE_JURIDICA'">

                    <p>Nuevas Novedades.</p>
                    <div class="col text-center">
                        <div>
                            <mat-form-field appearance="fill">
                                <mat-label>Novedades</mat-label>
                                <mat-select multiple required [(ngModel)]="listaNovedades">

                                    <mat-option style="text-transform: uppercase;" value="cesion">Cesión</mat-option>
                                    <mat-option style="text-transform: uppercase;" value="otroSi">Otro si</mat-option>
                                    <mat-option style="text-transform: uppercase;" value="suspension">Suspensión</mat-option>
                                    <mat-option style="text-transform: uppercase;" value="terminacionLiquidacion">Terminación y Liquidación</mat-option>
                                    <mat-option style="text-transform: uppercase;" value="observaciones">Observaciones</mat-option>


                                </mat-select>
                            </mat-form-field>

                        </div>

                    </div>

                </div>




            </div>
        </div>

    </div>
    <br>
    <div *ngFor="let novedades of listaNovedades">
        <div class="font-black" id="novedad" *ngIf="novedades=='cesion'">
            <div class="card card-margin">
                <div class="card-body">
                    <br>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <div class="col">
                            <label class="form-check-label" for="flexSwitchCheckDisabled">Número de novedades de cesión</label>
                            <input class="form-control" type="number" min="1" pattern="^[0-9]+" [(ngModel)]="numeroNovedadesCesion" placeholder="Novedades de cesion">
                        </div>
                        <div class="col">
                            <br>
                            <button class="btn btn-primary me-md-2" type="button" (click)="crearNovedades()">Crear Novedades de cesión</button>
                        </div>

                    </div>
                    <br>
                    <div class="form-group w-50 align-center">

                        <br>
                        <input class="form-control" type="text" *ngFor="let numero of numeroNovedadesArr ; let i = index" [(ngModel)]="novedadesCesion[i]" placeholder="Novedades de cesion" style="text-transform: uppercase;">
                        <br>
                    </div>
                </div>
            </div>

        </div>

        <!-- Novedad de Otro si -->
        <div class="font-black" id="novedad" *ngIf="novedades=='otroSi'">
            <div class="card card-margin">
                <div class="card-body">
                    <br>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <div class="col">
                            <label class="form-check-label" for="flexSwitchCheckDisabled">Número de novedades de Otro Si</label>
                            <input class="form-control" type="number" min="1" pattern="^[0-9]+" [(ngModel)]="numeroNovedadesOtro" placeholder="Novedades de Otro Si" style="text-transform: uppercase;" required>
                        </div>
                        <div class="col">
                            <br>
                            <button class="btn btn-primary me-md-2" type="button" (click)="crearNovedades()">Crear Novedades de Otro Si </button>
                        </div>

                    </div>
                    <div class="card-body" *ngFor="let numero of numeroNovedadesArrOtro   ; let i = index">
                        <br>
                        <label for="validationCustom01" class="form-label">Dias De La Novedad</label>
                        <input type="number" min="1" pattern="^[0-9]+" class="form-control" [(ngModel)]="duracionOtroSi[i]" required>
                        <br>

                        <label for="validationCustom01" class="form-label">Valor De La Novedad</label>
                        <input type="number" min="1" pattern="^[0-9]+" class="form-control" [(ngModel)]="valorOtroSi[i]" required>

                    </div>
                </div>
            </div>

        </div>

        <div class="font-black" id="novedad" *ngIf="novedades=='suspension'">
            <div class="card card-margin">
                <div class="card-body">
                    <br>


                    <!-- Div para  el cuadro de texto  -->
                    <br>
                    <div class="form-group row">
                        <label for="example-date-input" class="col-2 col-form-label">Fecha De inicio de la suspensión</label>
                        <div class="col-10">
                            <input class="form-control" type="date" [(ngModel)]="fechaInicialSupension" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="example-date-input" class="col-2 col-form-label">Fecha Final de la suspensión</label>
                        <div class="col-10">
                            <input class="form-control" type="date" [(ngModel)]="fechaFinalSuspension" required>
                        </div>
                    </div>

                </div>
            </div>

        </div>

        <div class="font-black" id="novedad" *ngIf="novedades=='terminacionLiquidacion'">
            <div class="card card-margin">
                <div class="card-body">
                    <br>

                    <div class="form-group row">
                        <label for="example-date-input" class="col-2 col-form-label">Fecha De Terminación</label>
                        <div class="col-10">
                            <input class="form-control" type="date" [(ngModel)]="fechaTerminacion" required>
                        </div>
                    </div>

                </div>
            </div>

        </div>
        <br>

        <div class="font-black" id="novedad" *ngIf="novedades=='observaciones'">
            <div class="card card-margin">
                <div class="card-body">
                    <br>

                    <div class="form-group row">
                        <label for="example-date-input" class="col-2 col-form-label">Observaciones</label>
                        <div class="col-10">
                            <input class="form-control" type="text" [(ngModel)]="textoNovedad" placeholder="Observación">
                        </div>
                    </div>

                </div>
            </div>

        </div>
        <br>

    </div>


</div>
<!-- Novedad de cesion -->



<div class="col text-center">
    <button (click)="crearPdf()" nbButton status="download" class="btn-flotante">

            <i class="fas fa-file-alt"></i>
            Crear Certificado
        </button>

</div>